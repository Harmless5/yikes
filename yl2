#!/bin/bash
# Skript, mis otsib kasutaja kodukataloogis .log lõpuga faile, kontrollib nende ridade arvu ja väljastab failide nimekirja vastavalt ridade arvule kahanemisjärjekorras.

# Otsime kõik .log lõpuga failid kasutaja kodukataloogis ja selle alamkataloogides.
files=$(find ~/ -name "*.log" -type f)

# Kontrollime iga faili ridade arvu ja salvestame selle koos failinimega massiivi.
declare -A lines
for file in $files; do
    lines[$file]=$(wc -l < $file)
done

# Sorteerime massiivi ridade arvu järgi kahanemisjärjekorras.
sorted_files=$(for file in "${!lines[@]}"; do echo "${lines[$file]} $file"; done | sort -rn | awk '{print $2}')

# Väljastame failide nimekirja.
echo "Failid ridade arvu järgi kahanemisjärjekorras:"
for file in $sorted_files; do
    echo "$file - ${lines[$file]} rida"
done